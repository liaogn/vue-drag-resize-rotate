(function(t){function e(e){for(var n,a,o=e[0],c=e[1],h=e[2],u=0,d=[];u<o.length;u++)a=o[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,h||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},r={index:0},s=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var l=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("e35a")},"01b4":function(t,e,i){"use strict";i("2348")},"0f0a":function(t,e,i){},"185e":function(t,e,i){"use strict";i("8566")},2348:function(t,e,i){},2962:function(t,e,i){"use strict";i("df51")},"38be":function(t,e,i){},6119:function(t,e,i){"use strict";i("78db")},"62e3":function(t,e,i){"use strict";i("7f5a")},7337:function(t,e,i){"use strict";i("d998")},"78db":function(t,e,i){},"7f5a":function(t,e,i){},8566:function(t,e,i){},9410:function(t,e,i){},a79b:function(t,e,i){"use strict";i("38be")},c6c0:function(t,e,i){"use strict";i("0f0a")},ca3e:function(t,e,i){},d998:function(t,e,i){},dc7d:function(t,e,i){t.exports=i.p+"public/img/test_1.93c19f22.jpg"},df51:function(t,e,i){},e037:function(t,e,i){"use strict";i("9410")},e35a:function(t,e,i){"use strict";i.r(e);i("25ba"),i("5f1c"),i("6ba0"),i("b47f");var n=i("f568"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Test_1"),e("Test_2"),e("Test_3"),e("Test_4"),e("Test_5"),e("Test_6"),e("Test_7")],1)},s=[],a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawWrap drawWrap_test1"},[e("wrapDesc",{attrs:{title:"组件属性、方法的用法",showData:t.showData}}),e("vdr",{attrs:{activeable:!0,draggable:!0,resizeable:!0,rotateable:!0,sticks:["tl","tm","angle","tr","mr","ml","bl","bm","br"],w:t.rect.w,h:t.rect.h,r:t.rect.r,x:t.rect.x,y:t.rect.y,z:t.rect.z,bg:t.rect.bg,lock:t.rect.lock,active:t.rect.active},on:{activated:t.activated,dragStart:t.dragStart,dragging:t.dragging,dragStop:t.dragStop,rotateStart:t.rotateStart,rotating:t.rotating,rotateStop:t.rotateStop,resizeStart:t.resizeStart,resizing:t.resizing,resizeStop:t.resizeStop}}),e("div",{staticClass:"codeBox"},[e("highlightjs",{staticClass:"myHljs",attrs:{language:"html",code:t.codeHTML}}),e("highlightjs",{staticClass:"myHljs",attrs:{language:"javascript",code:t.codeJS}})],1)],1)},o=[],c=i("dc7d"),h=i.n(c),l=' \n    <vdr\n      :activeable="true"\n      :draggable="true"\n      :resizeable="true"\n      :rotateable="true"\n      :sticks="[\'tl\', \'tm\', \'angle\', \'tr\', \'mr\', \'ml\', \'bl\', \'bm\', \'br\']"\n      :w="rect.w"\n      :h="rect.h"\n      :r="rect.r"\n      :x="rect.x"\n      :y="rect.y"\n      :z="rect.z"\n      :bg="rect.bg"\n      :lock="rect.lock"\n      :active="rect.active"\n      @activated="activated"\n\n      @dragStart="dragStart"\n      @dragging="dragging"\n      @dragStop="dragStop"\n\n      @rotateStart="rotateStart"\n      @rotating="rotating"\n      @rotateStop="rotateStop"\n\n      @resizeStart="resizeStart"\n      @resizing="resizing"\n      @resizeStop="resizeStop"\n    />\n',u="\n  data() {\n    return {\n      // 左上角展示的数据\n      showData:{},\n      // 组件参数数据\n      rect: {\n        w: 200,\n        h: 182,\n        x: 300,\n        y: 120,\n        r: 0,\n        z: 99,\n        lock: false,\n        active: true,\n        bg: testImage,\n      }\n    }\n  },\n  created() {\n    this.showData = this.rect\n  },\n  mounted() {\n    document.documentElement.addEventListener('click', ()=>{\n      this.rect.active = false\n      this.showData.active = false\n    })\n  },\n  methods: {\n    dragStop(res){\n      this.showData = res\n    },\n    dragStart(res){\n      this.showData = res\n    },\n    dragging(res){\n      this.showData = res\n    },\n    rotateStart(res){\n      this.showData = res\n    },\n    rotating(res){\n      this.showData = res\n    },\n    rotateStop(res){\n      this.showData = res\n    },\n    resizeStart(res){\n      this.showData = res\n    },\n    resizing(res){\n      this.showData = res\n    },\n    resizeStop(res){\n      this.showData = res\n    },\n    activated(res){\n      this.showData = res\n      this.rect.active = true\n    }\n  },\n\n",d={name:"test_1",data:function(){return{rect:{w:200,h:182,x:300,y:120,r:0,z:99,lock:!1,active:!0,bg:h.a},testImage:h.a,showData:{},codeHTML:l,codeJS:u}},created:function(){this.showData=this.rect},mounted:function(){var t=this;document.documentElement.addEventListener("mousedown",(function(){t.rect.active=!1,t.showData.active=!1,console.log("active设为false:移除选中状态")}))},methods:{dragStop:function(t){this.showData=t},dragStart:function(t){this.showData=t},dragging:function(t){this.showData=t},rotateStart:function(t){this.showData=t},rotating:function(t){this.showData=t},rotateStop:function(t){this.showData=t},resizeStart:function(t){this.showData=t},resizing:function(t){this.showData=t},resizeStop:function(t){this.showData=t},activated:function(t){this.showData=t,this.rect.active=!0}}},f=d,p=(i("185e"),i("0b56")),v=Object(p["a"])(f,a,o,!1,null,null,null),g=v.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawWrap drawWrap_test2"},[e("wrapDesc",{attrs:{title:"可选触点"}}),e("vdr",{attrs:{sticks:["tl","tm","tr","mr","ml","bl","bm","br"],w:t.rect.w,h:t.rect.h,r:t.rect.r,x:150,y:t.rect.y,z:t.rect.z,bg:t.rect.bg,lock:t.rect.lock,active:t.rect.active}}),e("vdr",{attrs:{sticks:["tl","tm","mr","ml","bm","angle"],w:t.rect.w,h:t.rect.h,r:t.rect.r,x:450,y:t.rect.y,z:t.rect.z,bg:t.rect.bg,lock:t.rect.lock,active:t.rect.active}}),e("div",{staticClass:"codeBox"},[e("highlightjs",{staticClass:"myHljs",attrs:{language:"html",code:t.codeHTML}}),e("highlightjs",{staticClass:"myHljs",attrs:{language:"javascript",code:t.codeJS}})],1)],1)},w=[],b=" \n \x3c!-- 默认 sticks=\"['tl', 'tm', 'angle', 'tr', 'mr', 'ml', 'bl', 'bm', 'br']\" --\x3e\n\n <vdr :sticks=\"['tl', 'tm', 'tr', 'mr', 'ml', 'bl', 'bm', 'br']\" />\n\n <vdr :sticks=\"['tl', 'tm', 'mr', 'ml', 'bm','angle']\" />\n",y="\n\n",k={name:"test_2",data:function(){return{testImage:h.a,showData:{},rect:{w:200,h:182,left:300,y:100,r:0,z:99,lock:!1,active:!0,bg:h.a},codeHTML:b,codeJS:y}},created:function(){this.showData=this.rect},mounted:function(){},methods:{clickEmpty:function(){this.test.isActive=!1,console.log("active设为false:移除选中状态")},dragStop:function(t){this.showData=t},dragStart:function(t){this.showData=t},dragging:function(t){this.showData=t},rotateStart:function(t){this.showData=t},rotating:function(t){this.showData=t},rotateStop:function(t){this.showData=t},resizeStart:function(t){this.showData=t},resizing:function(t){this.showData=t},resizeStop:function(t){this.showData=t},activated:function(t){this.showData=t,this.rect.active=!0}}},x=k,D=(i("62e3"),Object(p["a"])(x,m,w,!1,null,null,null)),S=D.exports,_=function(){var t=this,e=t._self._c;return e("div",{ref:"drawWrap",staticClass:"drawWrap drawWrap_test3"},[e("wrapDesc",{attrs:{title:"动作控制"}}),e("vdr",{staticStyle:{outline:"1px solid #999"},attrs:{draggable:!1,w:t.rect.w,h:t.rect.h,r:t.rect.r,x:40,y:t.rect.y,z:t.rect.z,lock:t.rect.lock,active:t.active1}},[e("p",[t._v("不可拖动")])]),e("vdr",{staticStyle:{outline:"1px solid #999"},attrs:{rotateable:!1,w:t.rect.w,h:t.rect.h,r:t.rect.r,x:230,y:t.rect.y,z:t.rect.z,lock:t.rect.lock,active:t.active2}},[e("p",[t._v("不可旋转")])]),e("vdr",{staticStyle:{outline:"1px solid #999"},attrs:{resizeable:!1,w:t.rect.w,h:t.rect.h,r:t.rect.r,x:420,y:t.rect.y,z:t.rect.z,lock:t.rect.lock,active:t.active3}},[e("p",[t._v("不可缩放")])]),e("vdr",{staticStyle:{outline:"1px solid #999"},attrs:{activeable:!1,w:t.rect.w,h:t.rect.h,r:t.rect.r,x:610,y:t.rect.y,z:t.rect.z,lock:t.rect.lock,active:t.active4}},[e("p",[t._v("不可选中")])]),e("div",{staticClass:"codeBox"},[t.codeHTML?e("highlightjs",{staticClass:"myHljs",attrs:{language:"html",code:t.codeHTML}}):t._e()],1)],1)},R=[],z=(i("1bc7"),i("246f"),' \n \x3c!-- 默认 draggable="true" rotateable="true" resizeable="true"  activeable="true"--\x3e\n\n \x3c!--这里自己加的outline为了演示，当active为false未选中时，是没有触点和outline的--\x3e\n\n \x3c!--这里的选中逻辑在demo里，通过控制每个vdr的ative值来、实现--\x3e\n\n <vdr draggable="true" :active="xxx" style="outline:1px solid #999"/>\n\n <vdr rotateable="true" :active="xxx" style="outline:1px solid #999"/>\n\n <vdr resizeable="true" :active="xxx" style="outline:1px solid #999"/>\n\n <vdr activeable="true" :active="xxx" style="outline:1px solid #999"/>\n '),M={name:"test_3",data:function(){return{testImage:h.a,showData:{},active1:!0,active2:!1,active3:!1,active4:!1,rect:{w:150,h:150,left:300,y:100,r:0,z:99,lock:!1,active:!0,bg:h.a},codeHTML:z}},created:function(){this.showData=this.rect},mounted:function(){var t=this,e=this.$refs.drawWrap.querySelectorAll(".vdr");e.forEach((function(e,i){e.addEventListener("click",(function(){3!==i&&(t.active1=!1,t.active2=!1,t.active3=!1,t.active4=!1,t["active".concat(i+1)]=!0)}))}))},methods:{clickEmpty:function(){this.test.isActive=!1,console.log("active设为false:移除选中状态")},dragStop:function(t){this.showData=t},dragStart:function(t){this.showData=t},dragging:function(t){this.showData=t},rotateStart:function(t){this.showData=t},rotating:function(t){this.showData=t},rotateStop:function(t){this.showData=t},resizeStart:function(t){this.showData=t},resizing:function(t){this.showData=t},resizeStop:function(t){this.showData=t},activated:function(t){this.showData=t,this.rect.active=!0}}},j=M,C=(i("6119"),Object(p["a"])(j,_,R,!1,null,null,null)),I=C.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawWrap drawWrap_test4"},[e("wrapDesc",{attrs:{title:"组件（递归）嵌套",showData:t.showData}}),e("vdr",t._b({on:{activated:t.activated,dragStart:t.dragStart,dragging:t.dragging,dragStop:t.dragStop,rotateStart:t.rotateStart,rotating:t.rotating,rotateStop:t.rotateStop,resizeStart:t.resizeStart,resizing:t.resizing,resizeStop:t.resizeStop}},"vdr",t.rect,!1)),e("div",{staticClass:"codeBox"},[e("highlightjs",{staticClass:"myHljs",attrs:{language:"html",code:t.codeHTML}}),e("highlightjs",{staticClass:"myHljs",attrs:{language:"javascript",code:t.codeJS}})],1)],1)},H=[],O=' \n<vdr v-bind="rect"/>\n',P="\ndata() {\n    return {\n      rect: {\n        w: 400,\n        h: 350,\n        x: 235,\n        y: 125,\n        r: 0,\n        z: 99,\n        lock: false,\n        active: true,\n        uuid:'1',\n        childrens:[\n          {\n            w: 250,\n            h: 250,\n            x: 70,\n            y: 60,\n            r: 0,\n            lock: true,\n            active: true,\n            uuid:'2_1',\n            overflow:'hidden',\n            childrens:[\n              {\n                w: 60,\n                h: 60,\n                x: 50,\n                y: 50,\n                r: 45,\n                lock: false,\n                active: true,\n                uuid:'3_1',\n              },\n              {\n                w: 60,\n                h: 60,\n                x: 120,\n                y: 140,\n                r: 45,\n                lock: false,\n                active: true,\n                uuid:'3_2',\n              }\n            ]\n          }\n        ]\n      }\n    }\n  },\n\n",B={name:"test_4",data:function(){return{rect:{w:400,h:350,x:235,y:125,r:0,z:99,lock:!1,active:!0,uuid:"1",childrens:[{w:250,h:250,x:70,y:53,r:30,lock:!0,active:!0,uuid:"2_1",overflow:"hidden",childrens:[{w:60,h:60,x:50,y:50,r:45,lock:!1,active:!0,uuid:"3_1"},{w:60,h:60,x:120,y:140,r:45,lock:!1,active:!0,uuid:"3_2"}]}]},testImage:h.a,showData:{},codeHTML:O,codeJS:P}},created:function(){this.showData=this.rect},mounted:function(){},methods:{dragStop:function(t){this.showData=t},dragStart:function(t){this.showData=t},dragging:function(t){this.showData=t},rotateStart:function(t){this.showData=t},rotating:function(t){this.showData=t},rotateStop:function(t){this.showData=t},resizeStart:function(t){this.showData=t},resizing:function(t){this.showData=t},resizeStop:function(t){this.showData=t},activated:function(t){this.showData=t,this.rect.active=!0}}},X=B,Y=(i("2962"),Object(p["a"])(X,L,H,!1,null,null,null)),A=Y.exports,E=function(){var t=this,e=t._self._c;return e("div",{ref:"drawWrap",staticClass:"drawWrap drawWrap_test5"},[e("wrapDesc",{attrs:{title:"样式控制"}}),e("vdr",{staticClass:"vdr_test_1",attrs:{w:t.rect.w,h:t.rect.h,r:t.rect.r,x:50,y:t.rect.y,z:t.rect.z,lock:t.rect.lock}},[e("p",[t._v("触点透明")])]),e("vdr",{staticClass:"vdr_test_2",staticStyle:{outline:"1px solid brown"},attrs:{w:t.rect.w,h:t.rect.h,r:t.rect.r,x:300,y:t.rect.y,z:t.rect.z,lock:t.rect.lock}},[e("p",[t._v("触点框颜色")])]),e("vdr",{staticStyle:{outline:"none"},attrs:{sticks:[],w:t.rect.w,h:t.rect.h,r:t.rect.r,x:550,y:t.rect.y,z:t.rect.z,bg:t.rect.bg,lock:t.rect.lock}},[e("p",[t._v("无操作框")])]),e("div",{staticClass:"codeBox"},[t.codeHTML?e("highlightjs",{staticClass:"myHljs",attrs:{language:"html",code:t.codeHTML}}):t._e()],1)],1)},T=[],W=' \n   \x3c!-- 通过class或style 修改组件边框样式 --\x3e\n\n   \x3c!-- sticks传入一个空数组，则不显示全部触点 --\x3e\n  \n   <vdr class="vdr_test_1"/>\n\n   <vdr class="vdr_test_2"  style="outline:1px solid brown"/>\n   \n   <vdr :sticks="[]" style="outline:none"/>\n   \n   <style>\n    .vdr_test_1 .vdr-stick{\n      background: transparent;\n    }\n\n    .vdr_test_2 .vdr-stick{\n      border-radius: 0;\n      border-color: brown;\n    }\n   </style>\n ',$={name:"test_5",data:function(){return{testImage:h.a,showData:{},active1:!0,active2:!1,active3:!1,active4:!1,rect:{w:200,h:200,left:300,y:120,r:0,z:99,lock:!1,active:!0,bg:h.a},codeHTML:W}}},N=$,F=(i("e037"),Object(p["a"])(N,E,T,!1,null,null,null)),q=F.exports,J=function(){var t=this,e=t._self._c;return e("div",{ref:"drawWrap",staticClass:"drawWrap drawWrap_test6"},[e("wrapDesc",{attrs:{title:"插槽"}}),e("vdr",{attrs:{w:t.rect.w,h:t.rect.h,r:t.rect.r,x:50,y:t.rect.y}},[e("vdr",{attrs:{x:20,y:60}})],1),e("vdr",{attrs:{w:t.rect.w,h:t.rect.h,r:t.rect.r,x:300,y:t.rect.y}},[e("textarea",{staticClass:"storyTextarea",attrs:{spellcheck:"false",placeholder:"这是一个Textarea，请写出你的故事"}})]),e("vdr",{attrs:{w:t.rect.w,h:t.rect.h,r:t.rect.r,x:550,y:t.rect.y}},[e("img",{staticStyle:{width:"80%"},attrs:{src:t.testImage,draggable:"false"}})]),e("div",{staticClass:"codeBox"},[t.codeHTML?e("highlightjs",{staticClass:"myHljs",attrs:{language:"html",code:t.codeHTML}}):t._e()],1)],1)},Z=[],V=' \n   \x3c!-- 组件内部设置默认插槽，将你想要插入的内容放置到组件标签内即可 --\x3e\n   \n   \x3c!-- 注意1：如插槽为img或a元素，要注意原生draggable属性的影响 --\x3e\n\n   \x3c!-- 注意2：如插为输入框，要注意文本选中时的鼠标事件冲突， 事件冒泡等影响 --\x3e\n\n   <vdr\n      :w="rect.w"\n      :h="rect.h"\n      :r="rect.r"\n      :x="50"\n      :y="rect.y"\n    >\n     <vdr :x="20" :y="20"/>\n    </vdr>\n\n    <vdr\n      :w="rect.w"\n      :h="rect.h"\n      :r="rect.r"\n      :x="300"\n      :y="rect.y"\n    >\n    <textarea \n      class="storyTextarea" \n      spellcheck="false"\n      placeholder="这是一个Textarea，请写出你的故事"\n    />\n    \x3c!-- 阻止冒泡，会导致元素拖拽失败，可以尝试边缘留白拖拽边缘，或使用额外开关（锁）处理 --\x3e\n    \x3c!-- <textarea\n      @mousedown.stop\n      class="storyTextarea" \n      spellcheck="false"\n      placeholder="这是一个Textarea，请写出你的故事"\n    />--\x3e\n    </vdr>\n\n    <vdr\n      :w="rect.w"\n      :h="rect.h"\n      :r="rect.r"\n      :x="550"\n      :y="rect.y"\n    >\n      <img :src="testImage" draggable="false"  style="width:80%">\n    </vdr>\n ',U={name:"test_1",data:function(){return{testImage:h.a,showData:{},active1:!0,active2:!1,active3:!1,active4:!1,rect:{w:200,h:200,left:300,y:120,r:0,z:99,lock:!1,active:!0,bg:h.a},codeHTML:V}}},G=U,K=(i("01b4"),Object(p["a"])(G,J,Z,!1,null,null,null)),Q=K.exports,tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawWrap drawWrap_test7"},[e("wrapDesc",{attrs:{title:"修改触点hover时的icon"}}),e("p",{staticStyle:{padding:"10px","font-size":"13px"}},[t._v("使用鼠标移到缩放触点上，查看效果")]),e("myVdr",{attrs:{w:t.rect.w,h:t.rect.h,r:t.rect.r,x:t.rect.x,y:t.rect.y}}),e("div",{staticClass:"codeBox"},[e("highlightjs",{staticClass:"myHljs",attrs:{language:"html",code:t.codeHTML}}),e("highlightjs",{staticClass:"myHljs",attrs:{language:"javascript",code:t.codeJS}})],1)],1)},et=[],it=(i("085b"),function(){var t=this,e=t._self._c;return e("div",{ref:"vdr",staticClass:"vdr",class:t._class,style:t._style,on:{click:function(t){t.stopPropagation()},mousedown:function(e){return e.stopPropagation(),t.bodyDown(e)}}},[t.active&&t.activeable?[t._l(t.resizeSticks,(function(i,n){return e("span",{key:n,ref:"stick_".concat(i),refInFor:!0,staticClass:"vdr-stick",class:"vdr-stick-".concat(i),style:{zIndex:t.activeStickIndex==n?10:9},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.stickDown(e,i,n)},mouseenter:function(e){return t.stickMouseenter(e,i,{hoverRender:t.hoverRender})},mouseout:function(e){return t.stickMouseout(e,i)}}})})),t._sticks.indexOf("angle")>-1?[e("span",{staticClass:"vdr-stick-rotate-line"}),e("span",{ref:"stick_angle",staticClass:"vdr-stick vdr-angle",style:{cursor:this.rotateable?"":"no-drop"},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.rotateDown(e)}}})]:t._e()]:t._e(),t._childWrapAttr?e("div",t._b({staticClass:"childWrap"},"div",t._childWrapAttr,!1),[t.childrens?t._l(t.childrens,(function(i){return e("vdr",t._g(t._b({key:i.key||i.id},"vdr",i,!1),t.$listeners))})):t._e(),t._t("default")],2):[t.childrens?t._l(t.childrens,(function(i){return e("vdr",t._g(t._b({key:i.key||i.id},"vdr",i,!1),t.$listeners))})):t._e(),t._t("default")]],2)}),nt=[],rt=(i("d0f2"),i("4890"),i("e680"),i("fc02"),i("865b"));function st(t,e){var i=t.left,n=t.top,r=t.width,s=t.height,a=r/2,o=s/2,c={tl:function(){return[i,n]},tm:function(){return[i+a,n]},tr:function(){return[i+r,n]},mr:function(){return[i+r,n+o]},br:function(){return[i+r,n+s]},bm:function(){return[i+a,n+s]},bl:function(){return[i,n+s]},ml:function(){return[i,n+o]}};return c[e]&&c[e]()}function at(t){var e=t.split(""),i=Object(rt["a"])(e,2),n=i[0],r=i[1],s={t:"b",b:"t",l:"r",r:"l"};return"".concat(s[n]||"m").concat(s[r]||"m")}var ot=i("9559"),ct=i("822c");i("8dee");function ht(t){return t*Math.PI/180}function lt(t){if(null==t)return 0;var e=window.getComputedStyle(t,null),i=e["-webkit-transform"]||e["-moz-transform"]||e["-ms-transform"]||e["-o-transform"]||e["transform"];if(null==i.match("matrix"))return 0;var n=i.replace(/matrix\(|\)|\s/gi,""),r=n.split(",")||[],s=Number(r[0]),a=Number(r[1]),o=Math.atan2(a,s)*(180/Math.PI);return o||0}function ut(t,e){var i=0,n=t.path||t.composedPath&&t.composedPath()||[];n=e?n.slice(1):n;var r=n.length||0;if(r<1)return 0;for(var s=r-1;s>0;s--){var a=n[s];a!==window&&a!==document&&(i+=lt(a))}return i}function dt(t){if(!t)return 0;var e=lt(t),i=function t(i){i&&1===i.nodeType&&(e+=lt(i),t(i.parentNode))};return i(t.parentNode),e}var ft=function(){function t(){Object(ot["a"])(this,t),this.isDrag=!1,this.rotate=0,this.pointA={},this.pointB={},this.pointC={}}return Object(ct["a"])(t,[{key:"downHandle",value:function(t,e,i){if(t&&e){var n=e.getBoundingClientRect(),r=n.left,s=n.top,a=n.width,o=n.height;this.isDrag=!0,this.rotate=i,this.pointB={X:t.clientX,Y:t.clientY},this.pointA={X:r+a/2,Y:s+o/2}}}},{key:"moveHandle",value:function(t){this.pointC={X:t.clientX,Y:t.clientY};var e={X:this.pointB.X-this.pointA.X,Y:this.pointB.Y-this.pointA.Y},i={X:this.pointC.X-this.pointA.X,Y:this.pointC.Y-this.pointA.Y},n=e.X*i.Y-e.Y*i.X,r=this.pointA.X-this.pointB.X,s=this.pointA.X-this.pointC.X,a=this.pointA.Y-this.pointB.Y,o=this.pointA.Y-this.pointC.Y,c=Math.sqrt(r*r+a*a),h=Math.sqrt(s*s+o*o),l=e.X*i.X+e.Y*i.Y,u=Math.acos(l/(c*h)),d=u/Math.PI*180||0;return this.rotate=n<0?this.rotate-d:this.rotate+d,this.pointB={X:t.clientX,Y:t.clientY},this.rotate}},{key:"upHandle",value:function(){this.isDrag=!1}}]),t}(),pt=function(){function t(){Object(ot["a"])(this,t),this.isDrag=!1,this.startPos={mx:0,my:0,left:0,top:0,right:0,bottom:0,parentsRotate:0}}return Object(ct["a"])(t,[{key:"downHandle",value:function(t,e){this.isDrag=!0,this.startPos.mx=t.clientX,this.startPos.my=t.clientY,this.startPos.left=e[0],this.startPos.top=e[1],this.startPos.parentsRotate=ut(t)}},{key:"moveHandle",value:function(t){var e=this.startPos,i=e.mx,n=e.my,r=e.left,s=e.top,a=e.parentsRotate,o={x:t.clientX-i,y:t.clientY-n},c=ht(a),h=o.x*Math.cos(c)+o.y*Math.sin(c),l=o.y*Math.cos(c)-o.x*Math.sin(c);return[r+h,s+l]}},{key:"upHandle",value:function(){this.isDrag=!1}}]),t}();i("e5b4"),i("566e");function vt(t,e){var i=(e[1]-t[1])/(e[0]-t[0]);return isNaN(i)?Math.tan(this.rad):i}function gt(t,e,i){var n=Object(rt["a"])(t,2),r=n[0],s=n[1],a=Object(rt["a"])(i,2),o=a[0],c=a[1],h=vt(e,i);if(!isFinite(h))return[o,s];var l=Math.pow(h,2),u=(l*o-c*h+s*h+r)/(l+1),d=(c-o*h+s*l+r*h)/(l+1);return[Math.round(u),Math.round(d)]}function mt(t,e){return[t[0]+(e[0]-t[0])/2,t[1]+(e[1]-t[1])/2]}function wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return[];var n=t[0]-e[0],r=t[1]-e[1],s=window.Math,a=s.cos,o=s.sin,c=ht(i);return[n*a(c)+r*o(c)+e[0],r*a(c)-n*o(c)+e[1]]}function bt(t,e){if(e){var i=t.offsetWidth,n=t.offsetHeight,r=t.left,s=t.top,a=t.absoluteRotate,o=t.cy,c=t.cx,h={left:r,top:s,width:i,height:n},l=st(h,e),u=wt(l,[c,o],-a);return u}}function yt(t,e){var i=Object(rt["a"])(t,2),n=i[0],r=i[1],s=Object(rt["a"])(e,2),a=s[0],o=s[1],c=(o-r)/(a-n);return function(t,e){return 0===c?{y:r}[t]:isFinite(c)?{y:c*(e-n)+r,x:(e+c*n-r)/c}[t]:{x:n}[t]}}var kt={tl:[["tr","br"],["bl","br"]],tr:[["tl","bl"],["br","bl"]],bl:[["br","tr"],["tl","tr"]],br:[["bl","tl"],["tr","tl"]],tm:[null,["bl","br"]],mr:[["tl","bl"],null],bm:[null,["tr","tl"]],ml:[["tr","br"],null]},xt=function(){function t(e,i){Object(ot["a"])(this,t),this.elementInfo=e,this.stick=i,this.rotate=e.rotate,this.flipRecting=!1,this.breakStickMaps=kt,this.absoluteContactor=bt(e,i),this.borderLineEquations=this.getBorderLineEquation(e,i),this.borderSigns=this.getFlipBorderSigns(this.borderLineEquations,this.absoluteContactor)}return Object(ct["a"])(t,[{key:"getFlipBorderSigns",value:function(t,e){var i=this;return t.map((function(t){return t?i.getCurSign(t,e):[]}))}},{key:"getBorderLineEquation",value:function(t,e){var i=this.getBreakPoints(t,e);return i.map((function(t){return t&&yt(t[0],t[1])}))}},{key:"getBreakPoints",value:function(t,e){var i=kt[e];if(!i)return[];var n=i.map((function(e){if(e)return e.map((function(e){return bt(t,e)}))}));return n}},{key:"getCurSign",value:function(t,e){var i=t("x",e[1])-e[0],n=i>=0?"+":"-",r=t("y",e[0])-e[1],s=r>=0?"+":"-";return[n,s]}},{key:"getFlipStick",value:function(t){var e=t.split(""),i=Object(rt["a"])(e,2),n=i[0],r=i[1];if(t.match("m"))return{tm:"tm",bm:"bm",ml:"mr",mr:"ml"}[t];var s={t:"b",b:"t",l:"r",r:"l"};return"".concat(n).concat(s[r])}},{key:"borderSignsWatcher",value:function(t,e){var i=this;this.borderLineEquations.forEach((function(n,r){if(!i.flipRecting&&n){var s=i.getCurSign(n,t),a=i.borderSigns[r].find((function(t,e){return t!==s[e]}));if(a){var o=1===r;i.flipRecting=!0,e(o,a),i.flipRecting=!1}i.borderSigns[r]=s}}))}}]),t}(),Dt=xt;function St(t){var e=t.offsetWidth,i=t.offsetHeight,n=lt(t),r=dt(t),s=t.getBoundingClientRect(),a=s.x,o=s.y,c=s.width,h=s.height,l=c/2+a,u=h/2+o,d=l-e/2,f=u-i/2;return Object.assign({x:a,y:o,left:d,top:f,width:c,height:h,cx:l,cy:u},{offsetWidth:e,offsetHeight:i,rotate:n,absoluteRotate:r})}function _t(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" viewBox="0 0 32 32" >\n            <path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('.concat(t,'deg);transform-origin: 16px 16px"></path>\n          </svg>')}function Rt(t){return"string"!==typeof t||t.length<=0?"":window.btoa(unescape(encodeURIComponent(t)))}function zt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,i={tl:t-45,tr:t+45,bl:t-135,br:t+135,tm:t+0,mr:t+90,bm:t-180,ml:t-90}[e];return i||0}function Mt(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("angle"!==e){if(this.stickDrag&&this.currentStick!==e)return t.target.style.cursor="default";var n=ut(t),r=zt(n,e),s=i.hoverRender||_t,a=Rt(s(r)),o="data:image/svg+xml;base64,".concat(a),c=this.resizeable?"url(".concat(o,") 16 16,auto"):"no-drop";t.target.style.cursor=c}}function jt(t,e){"angle"!==e&&(this.stickDrag||(t.target.style.cursor=""))}var Ct={name:"vdr",props:{overflow:{type:String,default:""},uuid:{type:[String,Number],default:""},bg:{type:String,default:""},lock:{type:Boolean,default:!1},w:{type:Number,default:100,validator:function(t){return t>=0}},h:{type:Number,default:100,validator:function(t){return t>=0}},x:{type:Number,default:0,validator:function(t){return"number"===typeof t}},y:{type:Number,default:0,validator:function(t){return"number"===typeof t}},z:{type:[String,Number],default:""},r:{type:Number,default:0},sticks:{type:Array},myStyle:{type:Object,default:function(){return{}}},myClass:{type:Object,default:function(){return{}}},active:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},resizeable:{type:Boolean,default:!0},rotateable:{type:Boolean,default:!0},activeable:{type:Boolean,default:!0},childrens:{type:Array,default:void 0},childWrapAttr:{type:Object,default:void 0}},data:function(){return{width:this.w,height:this.h,left:this.x,top:this.y,zIndex:this.z,rotate:this.r,whRatio:this.w/this.h,currentStick:"",activeStickIndex:-1,hoverRender:void 0}},computed:{_sticks:function(){return this.sticks?this.sticks:["tl","tm","tr","mr","br","bm","bl","ml","angle"]},_class:function(){var t=this.myClass,e={"vdr-active":this.active&&this.activeable,"vdr-not-active":!this.activeable};return[t,e]},_style:function(){var t="rotateZ(".concat(this.rotate,"deg)"),e="translate3d(".concat(this.left,"px,").concat(this.top,"px,0)"),i="pointer";this.active&&(i=this.draggable?"move":"no-drop"),this.activeable||(i="no-drop");var n={zIndex:this.zIndex,width:"".concat(this.width,"px"),height:"".concat(this.height,"px"),backgroundImage:"url(".concat(this.bg,")"),transform:"".concat(e," ").concat(t),cursor:i};return Object.assign({},this.myStyle,n)},_childWrapAttr:function(){if(this.overflow){var t=this.childWrapAttr||{},e=Object.assign(t.style||{},{overflow:this.overflow});return Object.assign(t,{style:e})}return this.childWrapAttr},resizeSticks:function(){return this._sticks.filter((function(t){return"angle"!==t}))},posData:function(){return{x:this.left,y:this.top,w:this.width,h:this.height,r:this.rotate,z:this.zIndex,stick:this.currentStick,lock:this.lock,active:this.active,uuid:this.uuid}}},created:function(){this.hoverRender=this.stickHoverRender||this.$stickHoverRender},mounted:function(){this.init()},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up)},methods:{stickMouseout:jt,stickMouseenter:Mt,init:function(){this.cacheRectDomInfo(this.$el),this.RectDrager=new pt,this.RectRotator=new ft,document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up)},move:function(t){this.draggable&&this.RectDrager.isDrag&&!this.stickDrag&&this.bodyMove(t),this.resizeable&&this.stickDrag&&this.stickMove(t),this.rotateable&&this.RectRotator.isDrag&&this.rotateMove(t)},up:function(t){this.draggable&&this.RectDrager.isDrag&&(this.RectDrager.upHandle(),this.$emit("dragStop",this.posData,t)),this.resizeable&&this.stickDrag&&(this.stickDrag=!1,this.$emit("resizeStop",this.posData,t)),this.rotateable&&this.RectRotator.isDrag&&(this.RectRotator.upHandle(),this.$emit("rotateStop",this.posData,t)),this.width>0&&this.height>0&&(this.whRatio=this.width/this.height)},bodyDown:function(t){this.activeable&&(this.currentStick="",this.RectDrager.downHandle(t,[this.left,this.top]),this.activeable&&(this.$emit("activated",this.posData,t),this.$emit("dragStart",this.posData,t)))},bodyMove:function(t){var e=this.RectDrager.moveHandle(t);this.left=e[0],this.top=e[1],this.$emit("dragging",this.posData,t)},rotateDown:function(t){this.activeable&&(this.currentStick="angle",this.RectRotator.downHandle(t,this.$el,this.rotate),this.$emit("rotateStart",this.posData,t))},rotateMove:function(t){this.rotate=this.RectRotator.moveHandle(t),this.$emit("rotating",this.posData,t)},cacheRectDomInfo:function(t){this.elementInfo=St(t),this.parentElement=t.parentNode,this.parentInfo=St(this.parentElement)},stickDown:function(t,e,i){this.activeable&&this.resizeable&&(this.activeStickIndex=i,this.whRatio=this.width/this.height,this.stickDownHandle(e),this.stickDrag=!0,this.$emit("resizeStart",this.posData,t))},stickDownHandle:function(t){if(this.currentStick=t,this.cacheRectDomInfo(this.$el),this.isMiddlePoint=this.currentStick.match("m"),!this.stickDrag){this.absoluteContactor=bt(this.elementInfo,this.currentStick),this.symAbsoluteContactor=bt(this.elementInfo,at(t));var e=wt(this.symAbsoluteContactor,[this.parentInfo.cx,this.parentInfo.cy],this.parentInfo.absoluteRotate);this.symRelativeContactor=[e[0]-this.parentInfo.left,e[1]-this.parentInfo.top],this.RectFliper=new Dt(this.elementInfo,t)}},stickMove:function(t){var e=this,i=[t.clientX,t.clientY];(this.lock||this.isMiddlePoint)&&(i=gt(i,this.absoluteContactor,this.symAbsoluteContactor));var n=this.caclRectResetRotated(i,this.symRelativeContactor,this.parentInfo,this.rotate),r=n.newMousePoint,s=n.newSymPoint;this.updateElementInfo(r,s,this.currentStick,this.lock),this.RectFliper.borderSignsWatcher(i,(function(t,i){t&&(e.rotate+="-"===i?-180:180),e.stickDownHandle(e.RectFliper.getFlipStick(e.currentStick))})),this.$emit("resizing",this.posData,t)},caclRectResetRotated:function(t,e,i,n){var r=wt(t,[i.cx,i.cy],i.absoluteRotate),s=[r[0]-i.left,r[1]-i.top],a=mt(s,e),o=wt(s,a,n),c=wt(e,a,n);return{newMousePoint:o,newSymPoint:c,newCenterPoint:a}},createRenderFunc:function(t){return{tl:function(t,e,i){this.left=t[0],this.top=t[1],this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:Math.abs(t[1]-e[1])},tm:function(t,e,i){this.height=Math.abs(t[1]-e[1]),this.width=i?this.height*this.whRatio:this.width,this.top=t[1],this.left=e[0]-this.width/2},tr:function(t,e,i){this.left=e[0],this.top=t[1],this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:Math.abs(t[1]-e[1])},mr:function(t,e,i){this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:this.height,this.left=e[0],this.top=e[1]-this.height/2},br:function(t,e,i){this.left=e[0],this.top=e[1],this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:Math.abs(t[1]-e[1])},bm:function(t,e,i){this.height=Math.abs(t[1]-e[1]),this.width=i?this.height*this.whRatio:this.width,this.left=e[0]-this.width/2,this.top=e[1]},bl:function(t,e,i){this.left=t[0],this.top=e[1],this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:Math.abs(t[1]-e[1])},ml:function(t,e,i){this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:this.height,this.left=t[0],this.top=e[1]-this.height/2},angle:function(){}}[t]},updateElementInfo:function(t,e,i,n){var r=this.createRenderFunc(i);r&&r.call(this,t,e,n)}},watch:{x:function(t){this.left=t},y:function(t){this.top=t},w:function(t){this.width=t},h:function(t){this.height=t},r:function(t){this.rotate=t},z:function(t){this.zIndex=t}}},It=Ct,Lt=(i("a79b"),Object(p["a"])(It,it,nt,!1,null,null,null)),Ht=Lt.exports;Ht.extends={methods:{stickHoverRender:function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" viewBox="0 0 32 32" >\n          <path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="crimson" stroke="black" style="transform: rotate('.concat(t,'deg);transform-origin: 16px 16px;"></path>\n        </svg>')}}};var Ot=' \n  <vdr\n    :w="rect.w"\n    :h="rect.h"\n    :r="rect.r"\n    :x="rect.x"\n    :y="rect.y"\n  />\n',Pt='\n  // hover时的方向图标是使用svg转base64, 然后定义cursor实现的\n\n  // 在组件上实现了可通过extends、mixins或Vue.prototype定义图标渲染回调函数stickHoverRender\n\n  // stickHoverRender要求return返回一个svg的字符串，提供一个回调参数，是当前方向角度，\n  // 该参数可插入svg字符串style="transform:rotate(xxxdeg)"里面\n\n  import vdr from \'../src/index.js\';\n  \n  // 定义svgIcon渲染函数\n  function stickHoverRender(cursorRotate){\n    return `<svg xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" viewBox="0 0 32 32" >\n      <path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="white" stroke="brown" style="transform:rotate(${cursorRotate}deg);transform-origin: 16px 16px"></path>\n    </svg>`\n  }\n  \n  // 扩展方法\n  vdr.extends = {\n    methods:{\n      stickHoverRender\n    }\n  }\n  // 或全局定义\n  vdr.$stickHoverRender = stickHoverRender //注意这里有“$”\n\n  Vue.use(vdr);\n  \n  \n',Bt={name:"test_7",components:{myVdr:Ht},data:function(){return{rect:{w:200,h:182,x:300,y:120,r:0,z:99,lock:!1,active:!0},showData:{},codeHTML:Ot,codeJS:Pt}},created:function(){this.showData=this.rect},mounted:function(){},methods:{}},Xt=Bt,Yt=(i("c6c0"),Object(p["a"])(Xt,tt,et,!1,null,null,null)),At=Yt.exports,Et={name:"app",components:{Test_1:g,Test_2:S,Test_3:I,Test_4:A,Test_5:q,Test_6:Q,Test_7:At},data:function(){return{}},computed:{},created:function(){},mounted:function(){},methods:{}},Tt=Et,Wt=(i("e7ae"),Object(p["a"])(Tt,r,s,!1,null,null,null)),$t=Wt.exports,Nt=(i("a450"),function(){var t=this,e=t._self._c;return e("div",{ref:"vdr",staticClass:"vdr",class:t._class,style:t._style,on:{click:function(t){t.stopPropagation()},mousedown:function(e){return e.stopPropagation(),t.bodyDown(e)}}},[t.active&&t.activeable?[t._l(t.resizeSticks,(function(i,n){return e("span",{key:n,ref:"stick_".concat(i),refInFor:!0,staticClass:"vdr-stick",class:"vdr-stick-".concat(i),style:{zIndex:t.activeStickIndex==n?10:9},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.stickDown(e,i,n)},mouseenter:function(e){return t.stickMouseenter(e,i,{hoverRender:t.hoverRender})},mouseout:function(e){return t.stickMouseout(e,i)}}})})),t._sticks.indexOf("angle")>-1?[e("span",{staticClass:"vdr-stick-rotate-line"}),e("span",{ref:"stick_angle",staticClass:"vdr-stick vdr-angle",style:{cursor:this.rotateable?"":"no-drop"},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.rotateDown(e)}}})]:t._e()]:t._e(),t._childWrapAttr?e("div",t._b({staticClass:"childWrap"},"div",t._childWrapAttr,!1),[t.childrens?t._l(t.childrens,(function(i){return e("vdr",t._g(t._b({key:i.key||i.id},"vdr",i,!1),t.$listeners))})):t._e(),t._t("default")],2):[t.childrens?t._l(t.childrens,(function(i){return e("vdr",t._g(t._b({key:i.key||i.id},"vdr",i,!1),t.$listeners))})):t._e(),t._t("default")]],2)}),Ft=[];function qt(t,e){var i=t.left,n=t.top,r=t.width,s=t.height,a=r/2,o=s/2,c={tl:function(){return[i,n]},tm:function(){return[i+a,n]},tr:function(){return[i+r,n]},mr:function(){return[i+r,n+o]},br:function(){return[i+r,n+s]},bm:function(){return[i+a,n+s]},bl:function(){return[i,n+s]},ml:function(){return[i,n+o]}};return c[e]&&c[e]()}function Jt(t){var e=t.split(""),i=Object(rt["a"])(e,2),n=i[0],r=i[1],s={t:"b",b:"t",l:"r",r:"l"};return"".concat(s[n]||"m").concat(s[r]||"m")}function Zt(t){return t*Math.PI/180}function Vt(t){if(null==t)return 0;var e=window.getComputedStyle(t,null),i=e["-webkit-transform"]||e["-moz-transform"]||e["-ms-transform"]||e["-o-transform"]||e["transform"];if(null==i.match("matrix"))return 0;var n=i.replace(/matrix\(|\)|\s/gi,""),r=n.split(",")||[],s=Number(r[0]),a=Number(r[1]),o=Math.atan2(a,s)*(180/Math.PI);return o||0}function Ut(t,e){var i=0,n=t.path||t.composedPath&&t.composedPath()||[];n=e?n.slice(1):n,n=n.filter((function(t){return t.className&&null==t.className.match("childWrap")}));var r=n.length||0;if(r<1)return 0;for(var s=r-1;s>0;s--){var a=n[s];a!==window&&a!==document&&(i+=Vt(a))}return i}function Gt(t){if(!t)return 0;var e=Vt(t),i=function t(i){i&&1===i.nodeType&&(e+=Vt(i),t(i.parentNode))};return i(t.parentNode),e}var Kt=function(){function t(){Object(ot["a"])(this,t),this.isDrag=!1,this.rotate=0,this.pointA={},this.pointB={},this.pointC={}}return Object(ct["a"])(t,[{key:"downHandle",value:function(t,e,i){if(t&&e){var n=e.getBoundingClientRect(),r=n.left,s=n.top,a=n.width,o=n.height;this.isDrag=!0,this.rotate=i,this.pointB={X:t.clientX,Y:t.clientY},this.pointA={X:r+a/2,Y:s+o/2}}}},{key:"moveHandle",value:function(t){this.pointC={X:t.clientX,Y:t.clientY};var e={X:this.pointB.X-this.pointA.X,Y:this.pointB.Y-this.pointA.Y},i={X:this.pointC.X-this.pointA.X,Y:this.pointC.Y-this.pointA.Y},n=e.X*i.Y-e.Y*i.X,r=this.pointA.X-this.pointB.X,s=this.pointA.X-this.pointC.X,a=this.pointA.Y-this.pointB.Y,o=this.pointA.Y-this.pointC.Y,c=Math.sqrt(r*r+a*a),h=Math.sqrt(s*s+o*o),l=e.X*i.X+e.Y*i.Y,u=Math.acos(l/(c*h)),d=u/Math.PI*180||0;return this.rotate=n<0?this.rotate-d:this.rotate+d,this.pointB={X:t.clientX,Y:t.clientY},this.rotate}},{key:"upHandle",value:function(){this.isDrag=!1}}]),t}(),Qt=function(){function t(){Object(ot["a"])(this,t),this.isDrag=!1,this.startPos={mx:0,my:0,left:0,top:0,right:0,bottom:0,parentsRotate:0}}return Object(ct["a"])(t,[{key:"downHandle",value:function(t,e){this.isDrag=!0,this.startPos.mx=t.clientX,this.startPos.my=t.clientY,this.startPos.left=e[0],this.startPos.top=e[1],this.startPos.parentsRotate=Ut(t)}},{key:"moveHandle",value:function(t){var e=this.startPos,i=e.mx,n=e.my,r=e.left,s=e.top,a=e.parentsRotate,o={x:t.clientX-i,y:t.clientY-n},c=Zt(a),h=o.x*Math.cos(c)+o.y*Math.sin(c),l=o.y*Math.cos(c)-o.x*Math.sin(c);return[r+h,s+l]}},{key:"upHandle",value:function(){this.isDrag=!1}}]),t}();function te(t,e){var i=(e[1]-t[1])/(e[0]-t[0]);return isNaN(i)?Math.tan(this.rad):i}function ee(t,e,i){var n=Object(rt["a"])(t,2),r=n[0],s=n[1],a=Object(rt["a"])(i,2),o=a[0],c=a[1],h=te(e,i);if(!isFinite(h))return[o,s];var l=Math.pow(h,2),u=(l*o-c*h+s*h+r)/(l+1),d=(c-o*h+s*l+r*h)/(l+1);return[Math.round(u),Math.round(d)]}function ie(t,e){return[t[0]+(e[0]-t[0])/2,t[1]+(e[1]-t[1])/2]}function ne(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return[];var n=t[0]-e[0],r=t[1]-e[1],s=window.Math,a=s.cos,o=s.sin,c=Zt(i);return[n*a(c)+r*o(c)+e[0],r*a(c)-n*o(c)+e[1]]}function re(t,e){if(e){var i=t.offsetWidth,n=t.offsetHeight,r=t.left,s=t.top,a=t.absoluteRotate,o=t.cy,c=t.cx,h={left:r,top:s,width:i,height:n},l=qt(h,e),u=ne(l,[c,o],-a);return u}}function se(t,e){var i=Object(rt["a"])(t,2),n=i[0],r=i[1],s=Object(rt["a"])(e,2),a=s[0],o=s[1],c=(o-r)/(a-n);return function(t,e){return 0===c?{y:r}[t]:isFinite(c)?{y:c*(e-n)+r,x:(e+c*n-r)/c}[t]:{x:n}[t]}}var ae={tl:[["tr","br"],["bl","br"]],tr:[["tl","bl"],["br","bl"]],bl:[["br","tr"],["tl","tr"]],br:[["bl","tl"],["tr","tl"]],tm:[null,["bl","br"]],mr:[["tl","bl"],null],bm:[null,["tr","tl"]],ml:[["tr","br"],null]},oe=function(){function t(e,i){Object(ot["a"])(this,t),this.elementInfo=e,this.stick=i,this.rotate=e.rotate,this.flipRecting=!1,this.breakStickMaps=ae,this.absoluteContactor=re(e,i),this.borderLineEquations=this.getBorderLineEquation(e,i),this.borderSigns=this.getFlipBorderSigns(this.borderLineEquations,this.absoluteContactor)}return Object(ct["a"])(t,[{key:"getFlipBorderSigns",value:function(t,e){var i=this;return t.map((function(t){return t?i.getCurSign(t,e):[]}))}},{key:"getBorderLineEquation",value:function(t,e){var i=this.getBreakPoints(t,e);return i.map((function(t){return t&&se(t[0],t[1])}))}},{key:"getBreakPoints",value:function(t,e){var i=ae[e];if(!i)return[];var n=i.map((function(e){if(e)return e.map((function(e){return re(t,e)}))}));return n}},{key:"getCurSign",value:function(t,e){var i=t("x",e[1])-e[0],n=i>=0?"+":"-",r=t("y",e[0])-e[1],s=r>=0?"+":"-";return[n,s]}},{key:"getFlipStick",value:function(t){var e=t.split(""),i=Object(rt["a"])(e,2),n=i[0],r=i[1];if(t.match("m"))return{tm:"tm",bm:"bm",ml:"mr",mr:"ml"}[t];var s={t:"b",b:"t",l:"r",r:"l"};return"".concat(n).concat(s[r])}},{key:"borderSignsWatcher",value:function(t,e){var i=this;this.borderLineEquations.forEach((function(n,r){if(!i.flipRecting&&n){var s=i.getCurSign(n,t),a=i.borderSigns[r].find((function(t,e){return t!==s[e]}));if(a){var o=1===r;i.flipRecting=!0,e(o,a),i.flipRecting=!1}i.borderSigns[r]=s}}))}}]),t}(),ce=oe;function he(t){var e=t.offsetWidth,i=t.offsetHeight,n=Vt(t),r=Gt(t),s=t.getBoundingClientRect(),a=s.x,o=s.y,c=s.width,h=s.height,l=c/2+a,u=h/2+o,d=l-e/2,f=u-i/2;return Object.assign({x:a,y:o,left:d,top:f,width:c,height:h,cx:l,cy:u},{offsetWidth:e,offsetHeight:i,rotate:n,absoluteRotate:r})}function le(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" viewBox="0 0 32 32" >\n            <path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('.concat(t,'deg);transform-origin: 16px 16px"></path>\n          </svg>')}function ue(t){return"string"!==typeof t||t.length<=0?"":window.btoa(unescape(encodeURIComponent(t)))}function de(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,i={tl:t-45,tr:t+45,bl:t-135,br:t+135,tm:t+0,mr:t+90,bm:t-180,ml:t-90}[e];return i||0}function fe(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("angle"!==e){if(this.stickDrag&&this.currentStick!==e)return t.target.style.cursor="default";var n=Ut(t),r=de(n,e),s=i.hoverRender||le,a=ue(s(r)),o="data:image/svg+xml;base64,".concat(a),c=this.resizeable?"url(".concat(o,") 16 16,auto"):"no-drop";t.target.style.cursor=c}}function pe(t,e){"angle"!==e&&(this.stickDrag||(t.target.style.cursor=""))}var ve={name:"vdr",props:{overflow:{type:String,default:""},uuid:{type:[String,Number],default:""},bg:{type:String,default:""},lock:{type:Boolean,default:!1},w:{type:Number,default:100,validator:function(t){return t>=0}},h:{type:Number,default:100,validator:function(t){return t>=0}},x:{type:Number,default:0,validator:function(t){return"number"===typeof t}},y:{type:Number,default:0,validator:function(t){return"number"===typeof t}},z:{type:[String,Number],default:""},r:{type:Number,default:0},sticks:{type:Array},myStyle:{type:Object,default:function(){return{}}},myClass:{type:Object,default:function(){return{}}},active:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},resizeable:{type:Boolean,default:!0},rotateable:{type:Boolean,default:!0},activeable:{type:Boolean,default:!0},childrens:{type:Array,default:void 0},childWrapAttr:{type:Object,default:void 0}},data:function(){return{width:this.w,height:this.h,left:this.x,top:this.y,zIndex:this.z,rotate:this.r,whRatio:this.w/this.h,currentStick:"",activeStickIndex:-1,hoverRender:void 0}},computed:{_sticks:function(){return this.sticks?this.sticks:["tl","tm","tr","mr","br","bm","bl","ml","angle"]},_class:function(){var t=this.myClass,e={"vdr-active":this.active&&this.activeable,"vdr-not-active":!this.activeable};return[t,e]},_style:function(){var t="rotateZ(".concat(this.rotate,"deg)"),e="translate3d(".concat(this.left,"px,").concat(this.top,"px,0)"),i="pointer";this.active&&(i=this.draggable?"move":"no-drop"),this.activeable||(i="no-drop");var n={zIndex:this.zIndex,width:"".concat(this.width,"px"),height:"".concat(this.height,"px"),backgroundImage:"url(".concat(this.bg,")"),transform:"".concat(e," ").concat(t),cursor:i};return Object.assign({},this.myStyle,n)},_childWrapAttr:function(){if(this.overflow){var t=this.childWrapAttr||{},e=Object.assign(t.style||{},{overflow:this.overflow});return Object.assign(t,{style:e})}return this.childWrapAttr},resizeSticks:function(){return this._sticks.filter((function(t){return"angle"!==t}))},posData:function(){return{x:this.left,y:this.top,w:this.width,h:this.height,r:this.rotate,z:this.zIndex,stick:this.currentStick,lock:this.lock,active:this.active,uuid:this.uuid}}},created:function(){this.hoverRender=this.stickHoverRender||this.$stickHoverRender},mounted:function(){this.init()},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up)},methods:{stickMouseout:pe,stickMouseenter:fe,init:function(){this.cacheRectDomInfo(this.$el),this.RectDrager=new Qt,this.RectRotator=new Kt,document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up)},move:function(t){this.draggable&&this.RectDrager.isDrag&&!this.stickDrag&&this.bodyMove(t),this.resizeable&&this.stickDrag&&this.stickMove(t),this.rotateable&&this.RectRotator.isDrag&&this.rotateMove(t)},up:function(t){this.draggable&&this.RectDrager.isDrag&&(this.RectDrager.upHandle(),this.$emit("dragStop",this.posData,t)),this.resizeable&&this.stickDrag&&(this.stickDrag=!1,this.$emit("resizeStop",this.posData,t)),this.rotateable&&this.RectRotator.isDrag&&(this.RectRotator.upHandle(),this.$emit("rotateStop",this.posData,t)),this.width>0&&this.height>0&&(this.whRatio=this.width/this.height)},bodyDown:function(t){this.activeable&&(this.currentStick="",this.RectDrager.downHandle(t,[this.left,this.top]),this.activeable&&(this.$emit("activated",this.posData,t),this.$emit("dragStart",this.posData,t)))},bodyMove:function(t){var e=this.RectDrager.moveHandle(t);this.left=e[0],this.top=e[1],this.$emit("dragging",this.posData,t)},rotateDown:function(t){this.activeable&&(this.currentStick="angle",this.RectRotator.downHandle(t,this.$el,this.rotate),this.$emit("rotateStart",this.posData,t))},rotateMove:function(t){this.rotate=this.RectRotator.moveHandle(t),this.$emit("rotating",this.posData,t)},cacheRectDomInfo:function(t){this.elementInfo=he(t),this.parentElement=t.parentNode,this.parentInfo=he(this.parentElement)},stickDown:function(t,e,i){this.activeable&&this.resizeable&&(this.activeStickIndex=i,this.whRatio=this.width/this.height,this.stickDownHandle(e),this.stickDrag=!0,this.$emit("resizeStart",this.posData,t))},stickDownHandle:function(t){if(this.currentStick=t,this.cacheRectDomInfo(this.$el),this.isMiddlePoint=this.currentStick.match("m"),!this.stickDrag){this.absoluteContactor=re(this.elementInfo,this.currentStick),this.symAbsoluteContactor=re(this.elementInfo,Jt(t));var e=ne(this.symAbsoluteContactor,[this.parentInfo.cx,this.parentInfo.cy],this.parentInfo.absoluteRotate);this.symRelativeContactor=[e[0]-this.parentInfo.left,e[1]-this.parentInfo.top],this.RectFliper=new ce(this.elementInfo,t)}},stickMove:function(t){var e=this,i=[t.clientX,t.clientY];(this.lock||this.isMiddlePoint)&&(i=ee(i,this.absoluteContactor,this.symAbsoluteContactor));var n=this.caclRectResetRotated(i,this.symRelativeContactor,this.parentInfo,this.rotate),r=n.newMousePoint,s=n.newSymPoint;this.updateElementInfo(r,s,this.currentStick,this.lock),this.RectFliper.borderSignsWatcher(i,(function(t,i){t&&(e.rotate+="-"===i?-180:180),e.stickDownHandle(e.RectFliper.getFlipStick(e.currentStick))})),this.$emit("resizing",this.posData,t)},caclRectResetRotated:function(t,e,i,n){var r=ne(t,[i.cx,i.cy],i.absoluteRotate),s=[r[0]-i.left,r[1]-i.top],a=ie(s,e),o=ne(s,a,n),c=ne(e,a,n);return{newMousePoint:o,newSymPoint:c,newCenterPoint:a}},createRenderFunc:function(t){return{tl:function(t,e,i){this.left=t[0],this.top=t[1],this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:Math.abs(t[1]-e[1])},tm:function(t,e,i){this.height=Math.abs(t[1]-e[1]),this.width=i?this.height*this.whRatio:this.width,this.top=t[1],this.left=e[0]-this.width/2},tr:function(t,e,i){this.left=e[0],this.top=t[1],this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:Math.abs(t[1]-e[1])},mr:function(t,e,i){this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:this.height,this.left=e[0],this.top=e[1]-this.height/2},br:function(t,e,i){this.left=e[0],this.top=e[1],this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:Math.abs(t[1]-e[1])},bm:function(t,e,i){this.height=Math.abs(t[1]-e[1]),this.width=i?this.height*this.whRatio:this.width,this.left=e[0]-this.width/2,this.top=e[1]},bl:function(t,e,i){this.left=t[0],this.top=e[1],this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:Math.abs(t[1]-e[1])},ml:function(t,e,i){this.width=Math.abs(t[0]-e[0]),this.height=i?this.width/this.whRatio:this.height,this.left=t[0],this.top=e[1]-this.height/2},angle:function(){}}[t]},updateElementInfo:function(t,e,i,n){var r=this.createRenderFunc(i);r&&r.call(this,t,e,n)}},watch:{x:function(t){this.left=t},y:function(t){this.top=t},w:function(t){this.width=t},h:function(t){this.height=t},r:function(t){this.rotate=t},z:function(t){this.zIndex=t}}},ge=ve,me=(i("7337"),Object(p["a"])(ge,Nt,Ft,!1,null,null,null)),we=me.exports;we.install=function(t){t.component(we.name,we)};var be=we,ye=function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"drawTitle"},[t._v(t._s(t.title)+"：")]),t.showData?e("div",{staticClass:"rectDesc"},[e("p",{staticClass:"rectDesc_label"},[t.showData.uuid?e("span",[t._v("【id：#"+t._s(t.showData.uuid)+"】")]):t._e(),t._v(" 数据：")]),e("p",[t._v("left: "+t._s(parseInt(t.showData.x)))]),e("p",[t._v("top: "+t._s(parseInt(t.showData.y)))]),e("p",[t._v("width: "+t._s(parseInt(t.showData.w)))]),e("p",[t._v("height: "+t._s(parseInt(t.showData.h)))]),e("p",[t._v("rotate: "+t._s(parseInt(t.showData.r)))]),e("p",[t._v("stick: "+t._s(t.showData.stick))]),e("p",[t._v("lock: "+t._s(t.showData.lock))]),e("p",[t._v("zIndex: "+t._s(t.showData.z))]),e("p",[t._v("active: "+t._s(t.showData.active))])]):t._e()])},ke=[],xe={props:{title:{type:String,default:""},showData:{type:Object,default:void 0}}},De=xe,Se=Object(p["a"])(De,ye,ke,!1,null,null,null),_e=Se.exports;console.log(be),n["a"].use(be),n["a"].use(hljs.vuePlugin),n["a"].config.productionTip=!1,n["a"].component("wrapDesc",_e),new n["a"]({render:function(t){return t($t)}}).$mount("#app")},e7ae:function(t,e,i){"use strict";i("ca3e")}});